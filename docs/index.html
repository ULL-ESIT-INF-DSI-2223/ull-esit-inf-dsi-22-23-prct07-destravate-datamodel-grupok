<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>ull-esit-inf-dsi-22-23-prct07-destravate-datamodel-grupok</title><meta name="description" content="Documentation for ull-esit-inf-dsi-22-23-prct07-destravate-datamodel-grupok"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base=".">
<div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<div class="field">
<div id="tsd-toolbar-links"></div></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">ull-esit-inf-dsi-22-23-prct07-destravate-datamodel-grupok</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-8 col-content">
<div class="tsd-page-title">
<h2>ull-esit-inf-dsi-22-23-prct07-destravate-datamodel-grupok</h2></div>
<div class="tsd-panel tsd-typography"><p><a href="https://coveralls.io/github/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct07-destravate-datamodel-grupok?branch=master"><img src="https://coveralls.io/repos/github/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct07-destravate-datamodel-grupok/badge.svg?branch=master" alt="Coverage Status"></a></p>

<a href="#práctica-7---destravate" id="práctica-7---destravate" style="color: inherit; text-decoration: none;">
  <h1>Práctica 7 - DeStravate</h1>
</a>
<p>Esta práctica, que es la primera práctica grupal de la asignatura, consiste en la creación de un sistema que permite llevar un registro de actividades deportivas de los usuarios. El sistema debe permitir diferentes funcionalidades y elementos que comentaremos a continuación.</p>

<a href="#descrición-de-los-requisitos-del-sistema" id="descrición-de-los-requisitos-del-sistema" style="color: inherit; text-decoration: none;">
  <h2>Descrición de los requisitos del sistema</h2>
</a>
<p>El sistema contará con diferentes tipos de datos, que son los siguientes:</p>
<ul>
<li>Rutas</li>
<li>Usuarios</li>
<li>Grupos</li>
<li>Retos</li>
</ul>
<p>Cada uno de estos, tienen distinta información y características, que se explican a profundidad en el <a href="https://ull-esit-inf-dsi-2223.github.io/prct07-destravate-dataModel/">guión de la práctica</a>.</p>

<a href="#funcionamiento" id="funcionamiento" style="color: inherit; text-decoration: none;">
  <h3>Funcionamiento</h3>
</a>
<p>El funcionamiento del sistema debe funcionar con por lo menos los siguientes requisitos:</p>
<ul>
<li>10 rutas distintas</li>
<li>20 usuarios distintos</li>
<li>5 grupos distintos</li>
<li>3 retos distintos</li>
</ul>
<p>Para la gestión del sistema, se hará uso de un menú o linea de comandos interactiva, que permita al usuario realizar las distintas acciones que tenga el sistema. Debido a esto se debe utilizar el módulo <code>Inquirer.js</code> para la gestión de la interacción con el usuario. Además toda la información del sistema debe ser guardada y persistir, para esto se hace uso del paquete <code>lowdb</code> que permite guardar la información en un archivo JSON.</p>
<p>Otro aspecto de la gestión del sistema es que se debe poder navegar la informacion de las entidades. Para cada tipo, osea para usuarios, rutas, grupos y retos, se debe poder mostrar la información y ordenarla de diferentes formas, por ejemplo en las Rutas se debe poder mostrar de alfabéticamente por nombre de la ruta, ascendente y descendente, también por cantidad de usuarios que realizan las rutas, ascendente y descendente, entre otras, la especificación completa de los requisitos se encuentra en el <a href="https://ull-esit-inf-dsi-2223.github.io/prct07-destravate-dataModel/">guión de la práctica</a>.</p>

<a href="#clase-gestor" id="clase-gestor" style="color: inherit; text-decoration: none;">
  <h3>Clase Gestor</h3>
</a>
<p>Se debe crear una clase gestor para el tratamiento de la información del sistema. Esta clase también contará con un menú de interacción con el usuario, que permita realizar las distintas acciones que se requieren para el sistema. Esta clase debe tener la siguiente funcionalidad:</p>
<ul>
<li>Registrarse en el sistema, iniciar sesión, visualizar la lista de usuarios y añadir/eliminar amigos.</li>
<li>Visuaizar las rutas del sistema y acceder a toda la informacion de ellas</li>
<li>Unirse a un grupo</li>
<li>Visualizar, crear y borrar grupos, pero solo los crados por el usuario</li>
</ul>
<p>De nuevo, toda la información detallada de los requisitos del sistema, se encuentra en el <a href="https://ull-esit-inf-dsi-2223.github.io/prct07-destravate-dataModel/">guión de la práctica</a>.</p>

<a href="#implementación" id="implementación" style="color: inherit; text-decoration: none;">
  <h2>Implementación</h2>
</a>

<a href="#estructura-del-proyecto" id="estructura-del-proyecto" style="color: inherit; text-decoration: none;">
  <h3>Estructura del proyecto</h3>
</a>
<p>El proyecto se ha estructurado de la siguiente manera:</p>
<ul>
<li><p><code>src</code> - Carpeta que contiene el código fuente del proyecto</p>
<ul>
<li><code>src/modelos</code> - Carpeta que contiene los archivos de los modelos o entidades del sistema (usuarios, rutas, grupos y retos)</li>
<li><code>src/coleccion</code> - Carpeta que contiene los archivos de las clases de las colecciones de los modelos (usuarios, rutas, grupos y retos) que permiten la gestión de </li>
<li><code>src/jsonModifiers</code> - Carpeta que contiene los archivos que modifican los archivos JSON de los modelos (usuarios, rutas, grupos y retos) para añadir, modificar o eliminar información y que esta persista tras la ejecución del programa</li>
<li><code>src/interfaces</code> - Carpeta que contiene los archivos de las interfaces utilizadas en el proyecto</li>
<li><code>src/enums</code> - Carpeta que contiene los archivos de los enumerados utilizados en el proyecto</li>
<li><code>src/app.ts</code> - Archivo principal del proyecto, que contiene la clase Gestor y toda la funcionalidad en si del sistema que permite la interacción con el usuario.</li>
</ul>
</li>
<li><p><code>database</code> - Carpeta que contiene los archivos JSON con la información de los modelos (usuarios, rutas, grupos y retos)</p>
</li>
<li><p><code>tests</code> - Carpeta que contiene los archivos de los tests del proyecto (los tests se han realizado con el framework <code>Mocha</code> y la librería <code>Chai</code>)</p>
</li>
</ul>
<p>Esta es la estructura del proyecto, decidimos hacerlo de esta forma, para organizar el código por funcionalidades y tenerlo todo más ordenado. Además se ha intentado seguir los principios SOLID, para que el código sea más mantenible y escalable. </p>

<a href="#interfaces" id="interfaces" style="color: inherit; text-decoration: none;">
  <h3>Interfaces</h3>
</a>
<p>Para la implementación de las interfaces, se ha creado una carpeta llamada <code>interfaces</code> dentro de la carpeta <code>src</code>, en la que se encuentran los archivos de cada una de las interfaces. Estos archivos contienen la definición de las interfaces que se utilizan en el proyecto.</p>

<a href="#entidadinterface" id="entidadinterface" style="color: inherit; text-decoration: none;">
  <h4>EntidadInterface</h4>
</a>
<p>Esta interfaz se utiliza para definir los métodos que se requieren para la gestión de las entidades (usuarios, rutas, grupos y retos). Esta interfaz contiene los siguientes métodos:</p>
<pre><code class="language-typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">interface</span><span class="hl-1"> </span><span class="hl-3">EntidadInterface</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">id</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">nombre</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
<p>La interfaz consta de dos atributos, el <code>id</code> y el <code>nombre</code>, que son los atributos que se requieren en comun para todos las entidades o modelos del sistema.</p>

<a href="#coleccioninterface" id="coleccioninterface" style="color: inherit; text-decoration: none;">
  <h4>ColeccionInterface</h4>
</a>
<p>Esta interfaz se utiliza para definir los métodos que se requieren para la gestión de las colecciones de las entidades (usuarios, rutas, grupos y retos). Esta interfaz contiene los siguientes métodos:</p>
<pre><code class="language-typescript"><span class="hl-2">interface</span><span class="hl-1"> </span><span class="hl-3">Coleccion</span><span class="hl-1">&lt;</span><span class="hl-3">T</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-5">insertar</span><span class="hl-1">(</span><span class="hl-4">elemento</span><span class="hl-1">: </span><span class="hl-3">T</span><span class="hl-1">): </span><span class="hl-3">void</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-5">eliminar</span><span class="hl-1">(</span><span class="hl-4">elemento</span><span class="hl-1">: </span><span class="hl-3">T</span><span class="hl-1">): </span><span class="hl-3">void</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-5">listar</span><span class="hl-1">(): </span><span class="hl-3">void</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
<p>La interfaz consta de tres métodos, <code>insertar</code>, <code>eliminar</code> y <code>listar</code>, que son los métodos que deben implementar las clases de las colecciones de las entidades o modelos del sistema. Estos métodos permiten añadir, eliminar y listar los elementos de la colección.</p>

<a href="#coordenadasinterface" id="coordenadasinterface" style="color: inherit; text-decoration: none;">
  <h4>CoordenadasInterface</h4>
</a>
<p>Esta interfaz define los atributos que debe tener un objeto que contenga las coordenadas de una ruta. Esta interfaz contiene los siguientes atributos:</p>
<pre><code class="language-typescript"><span class="hl-2">interface</span><span class="hl-1"> </span><span class="hl-3">CoordenadasInterface</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">latitud</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">longitud</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
<p>La interfaz consta de dos atributos, la <code>latitud</code> y la <code>longitud</code>, que son los atributos que se requieren para definir las coordenadas de una ruta. Por ejemplo las coordenadas de una ruta pueden ser: <code>{ latitud: 40.4167754, longitud: -3.7037902 }</code></p>

<a href="#estadisticasentrenamientointerface" id="estadisticasentrenamientointerface" style="color: inherit; text-decoration: none;">
  <h4>EstadisticasEntrenamientoInterface</h4>
</a>
<p>Esta interfaz define los atributos que debe tener un objeto que contenga las estadísticas de un usuario. Esta interfaz contiene los siguientes atributos:</p>
<pre><code class="language-typescript"><span class="hl-2">interface</span><span class="hl-1"> </span><span class="hl-3">EstadisticasEntrenamiento</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">semana</span><span class="hl-1">: { </span><span class="hl-4">km</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">; </span><span class="hl-4">desnivel</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1"> };</span><br/><span class="hl-1">  </span><span class="hl-4">mes</span><span class="hl-1">: { </span><span class="hl-4">km</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">; </span><span class="hl-4">desnivel</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1"> };</span><br/><span class="hl-1">  </span><span class="hl-4">anio</span><span class="hl-1">: { </span><span class="hl-4">km</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">; </span><span class="hl-4">desnivel</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1"> };</span><br/><span class="hl-1">}</span>
</code></pre>
<p>La interfaz consta de tres atributos, <code>semana</code>, <code>mes</code> y <code>anio</code>, que son los atributos que se requieren para definir las estadísticas de un usuario. Por ejemplo las estadísticas de un usuario pueden ser: <code>{ semana: { km: 10, desnivel: 100 }, mes: { km: 20, desnivel: 200 }, anio: { km: 30, desnivel: 300 } }</code></p>

<a href="#enumerados" id="enumerados" style="color: inherit; text-decoration: none;">
  <h3>Enumerados</h3>
</a>
<p>Para la implementación de los enumerados, se ha creado una carpeta llamada <code>enums</code> dentro de la carpeta <code>src</code>, en la que se encuentran los archivos de cada uno de los enumerados. Estos archivos contienen la definición de los enumerados que se utilizan en el proyecto.</p>

<a href="#tipo-de-actividad" id="tipo-de-actividad" style="color: inherit; text-decoration: none;">
  <h4>Tipo de Actividad</h4>
</a>
<p>Este enumerado define los tipos de actividad que puede tener una ruta o actiividad del sistema. Este enumerado contiene los siguientes valores:</p>
<pre><code class="language-typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">enum</span><span class="hl-1"> </span><span class="hl-3">Actividad</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">ciclismo</span><span class="hl-1"> = </span><span class="hl-7">&#39;ciclismo&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">running</span><span class="hl-1"> = </span><span class="hl-7">&#39;running&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">}</span>
</code></pre>
<p>El enumerado consta de dos valores, <code>ciclismo</code> y <code>running</code>, que son los tipos de actividad que puede tener una ruta.</p>

<a href="#dificultad" id="dificultad" style="color: inherit; text-decoration: none;">
  <h4>Dificultad</h4>
</a>
<p>Este enumerado define las dificultades que puede tener una ruta o actiividad del sistema. Este enumerado contiene los siguientes valores:</p>
<pre><code class="language-typescript"><span class="hl-2">enum</span><span class="hl-1"> </span><span class="hl-3">Dificultad</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">facil</span><span class="hl-1"> = </span><span class="hl-7">&#39;facil&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">media</span><span class="hl-1"> = </span><span class="hl-7">&#39;media&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">dificil</span><span class="hl-1"> = </span><span class="hl-7">&#39;dificil&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">}</span>
</code></pre>
<p>El enumerado consta de tres valores, <code>facil</code>, <code>media</code> y <code>dificil</code>, que son las posibles dificultades que puede tener una ruta. Se optó por un enumerado en vez de un alias de tipo, ya que se consideró que al ser sencillo y con valores predefinidos, era más adecuado utilizar un enumerado.</p>

<a href="#modelos-o-entidades" id="modelos-o-entidades" style="color: inherit; text-decoration: none;">
  <h3>Modelos o Entidades</h3>
</a>
<p>Para la implementación de los modelos o entidades, se ha creado una carpeta llamada <code>modelos</code> dentro de la carpeta <code>src</code>, en la que se encuentran los archivos de cada uno de los modelos. Estos archivos contienen la definición de las clases que representan a cada uno de los modelos (usuarios, rutas, grupos y retos) y los métodos que se requieren para su funcionamiento.</p>

<a href="#usuarios" id="usuarios" style="color: inherit; text-decoration: none;">
  <h4>Usuarios</h4>
</a>
<p>La clase <code>Usuario</code> contiene la información de cada uno de los usuarios del sistema. Esta clase contiene los siguientes atributos:</p>
<pre><code class="language-typescript"><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">Usuario</span><span class="hl-1"> </span><span class="hl-2">implements</span><span class="hl-1"> </span><span class="hl-3">EntidadInterface</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">id</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">nombre</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">contraseña</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">actividades</span><span class="hl-1">: </span><span class="hl-3">Actividad</span><span class="hl-1">; </span><span class="hl-8">// deberia ser un array de actividades</span><br/><span class="hl-1">  </span><span class="hl-4">amigosApp</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">  </span><span class="hl-4">amigosFrecuentes</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">  </span><span class="hl-4">estadisticas</span><span class="hl-1">: </span><span class="hl-3">EstadisticasEntrenamiento</span><span class="hl-1"> = </span><span class="hl-6">ESTADISTICASNULL</span><br/><span class="hl-1">  </span><span class="hl-4">rutasFavoritas</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">  </span><span class="hl-4">retosActivos</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">  </span><span class="hl-4">historicoRutas</span><span class="hl-1">: { </span><span class="hl-4">ruta</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">; </span><span class="hl-4">fecha</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">; }[] = [];</span>
</code></pre>
<p>Se puede apreciar que ciertos atributos se inicializan con un valor por defecto, esto se hace porque no se pasan por parámetro en el constructor, ya que estos atributos se van modificando a lo largo de la ejecución del sistema y cuando se va agregando información a los usuarios.</p>
<p>Cabe resaltar que la clase <code>Usuario</code> implementa la interfaz <code>EntidadInterface</code>, por lo que debe implementar los métodos que se definen en esta interfaz que comentamos previamente.</p>
<p>El constructor de la clase es el siguiente:</p>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-5">constructor</span><span class="hl-1">(</span><span class="hl-4">nombre</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">contraseña</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">actividades</span><span class="hl-1">: </span><span class="hl-4">Actividad</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-8">/// Comprobamos que el nombre no esté vacío y que la actividad sea válida</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">nombre</span><span class="hl-1"> === </span><span class="hl-7">&#39;&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-0">throw</span><span class="hl-1"> </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-5">Error</span><span class="hl-1">(</span><span class="hl-7">&#39;Nombre de usuario vacío&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">isValidPassword</span><span class="hl-1">(</span><span class="hl-4">contraseña</span><span class="hl-1">) === </span><span class="hl-2">false</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-0">throw</span><span class="hl-1"> </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-5">Error</span><span class="hl-1">(</span><span class="hl-7">&#39;Contraseña no válida&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-4">contador_id</span><span class="hl-1">++;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">id</span><span class="hl-1"> = </span><span class="hl-4">contador_id</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">nombre</span><span class="hl-1"> = </span><span class="hl-4">nombre</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">contraseña</span><span class="hl-1"> = </span><span class="hl-4">contraseña</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">actividades</span><span class="hl-1"> = </span><span class="hl-4">actividades</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span>
</code></pre>
<p>En el constructor se comprueba que el nombre no esté vacío y que la contraseña tenga un formato válido, este formato se define en el método <code>isValidPassword</code> que se encuentra en la clase <code>Usuario</code> y que basicamente comprueba que la contraseña tenga al menos una letra mayúscula, una minúscula, un número y un carácter especial. Si la contraseña no tiene un formato válido se lanza una excepción. Además, se incrementa el contador de identificadores y se asigna el valor del contador al atributo <code>id</code> del usuario, esto se hace de esta forma para que al crear un usuario se le asigne un identificador único. Por último, se asignan los valores de los parámetros al resto de atributos de la clase.</p>
<p>La clase contiene tambien getters y setters para todos los atributos de la clase, además de ciertos métodos para modificar algunos elementos de los atributos de la clase. como son:</p>
<ul>
<li><p><code>addAmigoApp</code> y <code>eraseAmigoApp</code>: Estos métodos permiten añadir y eliminar amigos de la aplicación a la lista de amigos de la aplicación del usuario.</p>
</li>
<li><p><code>addRutaFavorita</code> y <code>eraseRutaFavorita</code>: Estos métodos permiten añadir y eliminar rutas a la lista de rutas favoritas del usuario.</p>
</li>
<li><p><code>addRetoActivo</code> y <code>eraseRetoActivo</code>: Estos métodos permiten añadir y eliminar retos a la lista de retos activos del usuario.</p>
</li>
</ul>

<a href="#rutas" id="rutas" style="color: inherit; text-decoration: none;">
  <h4>Rutas</h4>
</a>
<p>La clase <code>Ruta</code> contiene la información de las rutas que se pueden realizar en el sistema. Esta clase contiene los siguientes atributos:</p>
<pre><code class="language-typescript"><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">Ruta</span><span class="hl-1"> </span><span class="hl-2">implements</span><span class="hl-1"> </span><span class="hl-3">EntidadInterface</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">id</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">nombre</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">coordenadasInicio</span><span class="hl-1">: </span><span class="hl-3">Coordenadas</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">coordenadasFin</span><span class="hl-1">: </span><span class="hl-3">Coordenadas</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">longitud</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">desnivel</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">usuariosVisitantes</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">  </span><span class="hl-4">tipoActividad</span><span class="hl-1">: </span><span class="hl-3">Actividad</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">dificultad</span><span class="hl-1">: </span><span class="hl-3">Dificultad</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">calificacion</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1"> = </span><span class="hl-9">0</span><span class="hl-1">;</span>
</code></pre>
<p>Se puede apreciar que ciertos atributos se inicializan con un valor por defecto, esto se hace porque no se pasan por parámetro en el constructor, ya que estos atributos se van modificando a lo largo de la ejecución del sistema y cuando se va agregando información a las rutas.</p>
<p>Cabe resaltar que la clase <code>Ruta</code> implementa la interfaz <code>EntidadInterface</code>, por lo que debe implementar los métodos que se definen en esta interfaz que comentamos previamente.</p>
<p>El constructor de la clase es el siguiente:</p>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-5">constructor</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-4">nombre</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">, </span><br/><span class="hl-1">    </span><span class="hl-4">coordenadasInicio</span><span class="hl-1">: </span><span class="hl-4">Coordenadas</span><span class="hl-1">, </span><br/><span class="hl-1">    </span><span class="hl-4">coordenadasFin</span><span class="hl-1">: </span><span class="hl-4">Coordenadas</span><span class="hl-1">, </span><br/><span class="hl-1">    </span><span class="hl-4">longitud</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">, </span><br/><span class="hl-1">    </span><span class="hl-4">desnivel</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">, </span><br/><span class="hl-1">    </span><span class="hl-4">tipoActividad</span><span class="hl-1">: </span><span class="hl-4">Actividad</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">dificultad</span><span class="hl-1">: </span><span class="hl-4">Dificultad</span><span class="hl-1">) </span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-4">contador_id</span><span class="hl-1">++;</span><br/><span class="hl-1">      </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">id</span><span class="hl-1"> = </span><span class="hl-4">contador_id</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">nombre</span><span class="hl-1"> = </span><span class="hl-4">nombre</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">coordenadasInicio</span><span class="hl-1"> = </span><span class="hl-4">coordenadasInicio</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">coordenadasFin</span><span class="hl-1"> = </span><span class="hl-4">coordenadasFin</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">longitud</span><span class="hl-1"> = </span><span class="hl-4">longitud</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">desnivel</span><span class="hl-1"> = </span><span class="hl-4">desnivel</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">tipoActividad</span><span class="hl-1"> = </span><span class="hl-4">tipoActividad</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">dificultad</span><span class="hl-1"> = </span><span class="hl-4">dificultad</span><span class="hl-1">;</span><br/><br/><span class="hl-1">      </span><span class="hl-8">// Ponemos una calificación aleatoria entre 0 y 5</span><br/><span class="hl-1">      </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">calificacion</span><span class="hl-1"> = </span><span class="hl-4">Math</span><span class="hl-1">.</span><span class="hl-5">floor</span><span class="hl-1">(</span><span class="hl-4">Math</span><span class="hl-1">.</span><span class="hl-5">random</span><span class="hl-1">() * </span><span class="hl-9">6</span><span class="hl-1">);</span><br/><span class="hl-1">    }    </span>
</code></pre>
<p>En el constructor se incrementa el contador de identificadores y se asigna el valor del contador al atributo <code>id</code> de la ruta, esto se hace de esta forma para que al crear una ruta se le asigne un identificador único. Por último, se asignan los valores de los parámetros al resto de atributos de la clase.</p>
<p>La clase contiene tambien getters y setters para todos los atributos de la clase, además de ciertos métodos para modificar algunos elementos de los atributos de la clase. como son:</p>
<ul>
<li><code>addUsuarioVisitante</code> y <code>eraseUsuarioVisitante</code>: Estos métodos permiten añadir y eliminar usuarios a la lista de usuarios visitantes de la ruta.</li>
</ul>

<a href="#grupos" id="grupos" style="color: inherit; text-decoration: none;">
  <h4>Grupos</h4>
</a>
<p>La clase <code>Grupo</code> contiene la información de los grupos que se pueden crear en el sistema. Un grupo de usuarios engloba la información de los usuarios que se unen para realizar rutas juntos. Esta clase contiene los siguientes atributos:</p>
<pre><code class="language-typescript"><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">Grupo</span><span class="hl-1"> </span><span class="hl-2">implements</span><span class="hl-1"> </span><span class="hl-3">EntidadInterface</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">id</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">nombre</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">creador</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">participantes</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">  </span><span class="hl-4">estadisticasEntrenamiento</span><span class="hl-1">: </span><span class="hl-3">EstadisticasEntrenamiento</span><span class="hl-1"> = </span><span class="hl-6">EMPTY_ESTADISTICAS_ENTRENAMIENTO</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">clasificacion</span><span class="hl-1">: { </span><span class="hl-4">id</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">; </span><span class="hl-4">km</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">; </span><span class="hl-4">desnivel</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1"> }[] = [];</span><br/><span class="hl-1">  </span><span class="hl-4">rutasFavoritas</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">  </span><span class="hl-4">historicoRutas</span><span class="hl-1">: { </span><span class="hl-4">ruta</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">; </span><span class="hl-4">fecha</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">; }[] = [];</span><br/><span class="hl-1">...</span>
</code></pre>
<p>Se puede apreciar que ciertos atributos se inicializan con un valor por defecto, esto se hace porque no se pasan por parámetro en el constructor, ya que estos atributos se van modificando a lo largo de la ejecución del sistema y cuando se va agregando información a los grupos. EMPTY_ESTADISTICAS_ENTRENAMIENTO es una constante que se define en el fichero <code>constantes.ts</code> y que contiene un objeto de tipo <code>EstadisticasEntrenamiento</code> con todos los atributos a 0.</p>
<p>Cabe resaltar que la clase <code>Grupo</code> implementa la interfaz <code>EntidadInterface</code>, por lo que debe implementar los métodos que se definen en esta interfaz que comentamos previamente.</p>
<p>El constructor de la clase es el siguiente:</p>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-5">constructor</span><span class="hl-1">(</span><span class="hl-4">nombre</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">creador</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">nombre</span><span class="hl-1"> === </span><span class="hl-7">&#39;&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-0">throw</span><span class="hl-1"> </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-5">Error</span><span class="hl-1">(</span><span class="hl-7">&#39;Nombre de grupo vacío&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-4">contador_id</span><span class="hl-1">++;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">id</span><span class="hl-1"> = </span><span class="hl-4">contador_id</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">nombre</span><span class="hl-1"> = </span><span class="hl-4">nombre</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">creador</span><span class="hl-1"> = </span><span class="hl-4">creador</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span>
</code></pre>
<p>Basicamente se comprueba que el nombre del grupo no esté vacío y se asignan los valores de los parámetros al resto de atributos de la clase.</p>
<p>La clase contiene tambien getters y setters para todos los atributos de la clase, además de ciertos métodos para modificar algunos elementos de los atributos de la clase. como son:</p>
<ul>
<li><p><code>addParticipante</code> y <code>eraseParticipante</code>: Estos métodos permiten añadir y eliminar usuarios a la lista de participantes del grupo.</p>
</li>
<li><p><code>addRutaFavorita</code> y <code>eraseRutaFavorita</code>: Estos métodos permiten añadir y eliminar rutas a la lista de rutas favoritas del grupo.</p>
</li>
<li><p><code>addRutaRealizada</code>: Este método permite añadir una ruta al historico de rutas realizadas por el grupo, no se puede eliminar una ruta del historico porque no tiene sentido que un grupo elimine una ruta que ha realizado.</p>
</li>
</ul>

<a href="#retos" id="retos" style="color: inherit; text-decoration: none;">
  <h4>Retos</h4>
</a>
<p>La clase <code>Reto</code> contiene la información de los retos que se pueden crear en el sistema. Un reto es basicamente un objetivo de entrenamiento que se puede realizar si se realizan una serie de rutas de las que conste el reto. </p>
<p>Esta clase contiene los siguientes atributos:</p>
<pre><code class="language-typescript"><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">Reto</span><span class="hl-1"> </span><span class="hl-2">implements</span><span class="hl-1"> </span><span class="hl-3">EntidadInterface</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">id</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-4">nombre</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-4">rutas</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">    </span><span class="hl-4">tipoActividad</span><span class="hl-1">: </span><span class="hl-3">Actividad</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-4">kmTotales</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1"> = </span><span class="hl-9">0</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-4">usuarios</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">...</span>
</code></pre>
<p>Se puede apreciar que ciertos atributos se inicializan con un valor por defecto, esto se hace porque no se pasan por parámetro en el constructor, ya que estos atributos se van modificando a lo largo de la ejecución del sistema y cuando se va agregando información a los retos. </p>
<p>Cabe resaltar que la clase <code>Reto</code> implementa la interfaz <code>EntidadInterface</code>, por lo que debe implementar los métodos que se definen en esta interfaz que comentamos previamente.</p>
<p>Podemos ver tambien que el atributo tipoActividad es de tipo <code>Actividad</code>, esto se debe a que el tipo de actividad de un reto es el mismo que el de las rutas que contiene el reto osea puede ser <code>Ciclismo</code> o <code>Running</code>.</p>
<p>El constructor de la clase es el siguiente:</p>
<pre><code class="language-typescript"><span class="hl-1">    </span><span class="hl-5">constructor</span><span class="hl-1">(</span><span class="hl-4">nombre</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">tipoActividad</span><span class="hl-1">: </span><span class="hl-4">Actividad</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">id</span><span class="hl-1"> = </span><span class="hl-4">contador_id</span><span class="hl-1">++;</span><br/><span class="hl-1">      </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">nombre</span><span class="hl-1"> = </span><span class="hl-4">nombre</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">tipoActividad</span><span class="hl-1"> = </span><span class="hl-4">tipoActividad</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span>
</code></pre>
<p>Los unicos parametros que se pasan al constructor son el nombre y el tipo de actividad, ya que los demás atributos se inicializan con un valor por defecto, además de que el atributo <code>id</code> se inicializa con el valor del contador de identificadores y se incrementa el contador de identificadores, como el las demas entidades, esto es para que al crear una entidad se le asigne un identificador único.</p>
<p>La clase contiene tambien getters y setters para todos los atributos de la clase, además de ciertos métodos para modificar algunos elementos de los atributos de la clase. como son:</p>
<ul>
<li><p><code>addUsuario</code> y <code>removeUsuario</code>: Estos métodos permiten añadir y eliminar usuarios a la lista de usuarios que han realizado el reto.</p>
</li>
<li><p><code>addRuta</code> y <code>removeRuta</code>: Estos métodos permiten añadir y eliminar rutas a la lista de rutas que contiene el reto.</p>
</li>
</ul>

<a href="#colecciones" id="colecciones" style="color: inherit; text-decoration: none;">
  <h3>Colecciones</h3>
</a>
<p>Las colecciones son los contenedores de las entidades, en este caso las colecciones son los contenedores de las rutas, grupos, retos y usuarios. Se ha creado una carpeta dentro de <code>src</code> llamada <code>colecciones</code> en la que se encuentran los ficheros de las colecciones de cada entidad.</p>

<a href="#colección-de-usuarios" id="colección-de-usuarios" style="color: inherit; text-decoration: none;">
  <h4>Colección de usuarios</h4>
</a>
<p>La clase <code>ColeccionUsuario</code> contiene los métodos necesarios para gestionar los usuarios del sistema. Esta clase se ha definido con el siguiente atributo y este constructor:</p>
<pre><code class="language-typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">ColeccionUsuario</span><span class="hl-1"> </span><span class="hl-2">implements</span><span class="hl-1"> </span><span class="hl-3">Coleccion</span><span class="hl-1">&lt;</span><span class="hl-3">Usuario</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-4">usuarios</span><span class="hl-1">: </span><span class="hl-3">Map</span><span class="hl-1">&lt;</span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-3">Usuario</span><span class="hl-1">&gt;;</span><br/><br/><span class="hl-1">  </span><span class="hl-2">constructor</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">usuarios</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-5">Map</span><span class="hl-1">();</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">...</span>
</code></pre>
<p>Como se puede apreciar el atributo de la clase es un <code>Map</code> que contiene los usuarios del sistema, el identificador de cada usuario es la clave del <code>Map</code> y el usuario en si es el valor del <code>Map</code>. En el constructor se inicializa el <code>Map</code> vacío. Además la clase implementa la interfaz <code>Coleccion</code> que se ha definido en el fichero <code>colecciones.ts</code> y que contiene los métodos que se deben implementar en las colecciones.</p>
<p>La clase es iterable pues se ha implementado el método <code>Symbol.iterator</code> de la siguiente forma:</p>
<pre><code class="language-typescript"><span class="hl-1">  [</span><span class="hl-4">Symbol</span><span class="hl-1">.</span><span class="hl-4">iterator</span><span class="hl-1">]() {</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">usuarios</span><span class="hl-1">.</span><span class="hl-5">values</span><span class="hl-1">();</span><br/><span class="hl-1">  }</span>
</code></pre>
<p>Además se han implementados los setters y getters para el atributo <code>usuarios</code> de la clase, en este caso hay un setter cuyo parametro es un <code>Map</code> y otro setter cuyo <code>setUsuariosFromArray</code> que recibe un array de usuarios y lo convierte en un <code>Map</code> para asignarlo al atributo <code>usuarios</code>. También se implementó un getter <code>getUsuario</code> que recibe un identificador de usuario y devuelve el usuario correspondiente.</p>
<p>La clase contiene tambien los siguientes métodos para gestionar y modificar los usuarios:</p>
<ul>
<li><code>listar</code>: Este método imprime por pantalla la lista de usuarios del sistema.</li>
<li>`insertar: Este método inserta un usuario en el sistema. Se comprueba que el usuario no exista previamente en el sistema y si no existe se inserta en el sistema.</li>
<li><code>eliminar</code>: Este método elimina un usuario del sistema. Se comprueba que el usuario exista previamente en el sistema y si existe se elimina del sistema.</li>
<li><code>modificarNombre</code>: Este método modifica el nombre de un usuario del sistema. Se comprueba que no haya un usuario con el mismo nombre en el sistema y si no hay un usuario con el mismo nombre se modifica el nombre del usuario.</li>
<li><code>modificarContraseña</code>: Este método modifica la contraseña de un usuario del sistema. Se comprueba que la contraseña actual del usuario sea correcta y si es correcta se modifica la contraseña del usuario.</li>
<li><code>modificarActividad</code>: Este método modifica la actividad de un usuario del sistema.</li>
<li><code>addAmigo</code> y <code>eraseAmigo</code>: Estos métodos añaden y eliminan amigos de la lista de amigos de un usuario.</li>
<li><code>addRutaFavorite</code> y <code>eraseRutaFavorite</code>: Estos métodos añaden y eliminan rutas de la lista de rutas favoritas de un usuario.</li>
<li><code>addRutaRealizada</code>: Este método añade una ruta a la lista de rutas realizadas por un usuario. No se implementó un metodo para eliminar rutas de la lista de rutas realizadas porque no se consideró necesario.</li>
<li><code>addRetosActivos</code> y <code>eraseRetosActivos</code>: Estos métodos añaden y eliminan retos de la lista de retos activos de un usuario pasado por parámetro.</li>
</ul>

<a href="#colección-de-rutas" id="colección-de-rutas" style="color: inherit; text-decoration: none;">
  <h4>Colección de rutas</h4>
</a>
<p>La clase <code>ColeccionRuta</code> contiene los métodos necesarios para gestionar las rutas del sistema. Esta clase se ha definido con el siguiente atributo y este constructor:</p>
<pre><code class="language-typescript"><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">ColeccionRuta</span><span class="hl-1"> </span><span class="hl-2">implements</span><span class="hl-1"> </span><span class="hl-3">Coleccion</span><span class="hl-1">&lt;</span><span class="hl-3">Ruta</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-4">rutas</span><span class="hl-1">: </span><span class="hl-3">Map</span><span class="hl-1">&lt;</span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-3">Ruta</span><span class="hl-1">&gt;;</span><br/><br/><span class="hl-1">  </span><span class="hl-2">constructor</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">rutas</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-5">Map</span><span class="hl-1">();</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">...</span>
</code></pre>
<p>Esto es básicamente igual que en la clase <code>ColeccionUsuario</code> solo que en este caso el atributo de la clase es un <code>Map</code> que contiene las rutas del sistema, el identificador de cada ruta es la clave del <code>Map</code> y la ruta en si es el valor del <code>Map</code>. En el constructor se inicializa el <code>Map</code> vacío. Además la clase implementa la interfaz <code>Coleccion</code> que se ha definido en el fichero <code>coleccion.ts</code> y que contiene los métodos que se deben implementar en las colecciones.</p>
<p>La clase es iterable pues se ha implementado el método <code>Symbol.iterator</code> al igual que en la clase <code>ColeccionUsuario</code>.</p>
<p>Además se han implementados los setters y getters para el atributo <code>rutas</code> de la clase, en este caso hay un setter cuyo parametro es un <code>Map</code> y otro setter cuyo <code>setRutasFromArray</code> que recibe un array de rutas y lo convierte en un <code>Map</code> para asignarlo al atributo <code>rutas</code>. También se implementó un getter <code>getRuta</code> que recibe un identificador de ruta y devuelve la ruta correspondiente, y un getter <code>getNombreRutas</code> que devuelve un array con los nombres de las rutas. </p>
<p>La clase contiene tambien los siguientes métodos para gestionar y modificar las rutas:</p>
<ul>
<li><code>listar</code>: Este método imprime por pantalla la lista de rutas del sistema.</li>
<li><code>insertar</code>: Este método inserta una ruta en el sistema. Se comprueba que la ruta no exista previamente en el sistema y si no existe se inserta en el sistema.</li>
<li><code>eliminar</code>: Este método elimina una ruta del sistema. Se comprueba que la ruta exista previamente en el sistema y si existe se elimina del sistema.</li>
<li><code>modificarNombreRuta</code>: Este método modifica el nombre de una ruta del sistema. Se comprueba que no haya una ruta con el mismo nombre en el sistema y si no hay una ruta con el mismo nombre se modifica el nombre de la ruta.</li>
<li><code>modificarCoordenadas</code>: Este método modifica las coordenadas de una ruta del sistema pasada por parametros, dadas las coordenadas de inicio y de fin tambien pasadas por parámetro.</li>
<li><code>modificarLongitudRuta</code>: Este método modifica la longitud de una ruta del sistema, comprueba si la longitud de la ruta es correcta y si es correcta modifica la longitud de la ruta.</li>
<li><code>modificarDificultadRuta</code>: Este método modifica la dificultad de una ruta del sistema, se le pasa un parámetro de tipo <code>Dificultad</code> que es la dificultad de la ruta.</li>
<li><code>modificarTipoActividadRuta</code>: Este método modifica el tipo de actividad de una ruta del sistema, se le pasa un parámetro de tipo <code>Actividad</code> que es el tipo de actividad de la ruta.</li>
</ul>

<a href="#colección-de-retos" id="colección-de-retos" style="color: inherit; text-decoration: none;">
  <h4>Colección de retos</h4>
</a>
<p>La clase <code>ColeccionReto</code> contiene los métodos necesarios para gestionar los retos del sistema. El atributo y constructor de esta clase es básicamente lo mismo que las dos anteriores, pero en este caso el atributo es un <code>Map</code> que contiene los retos del sistema, el identificador de cada reto es la clave del <code>Map</code> y el reto en si es el valor del <code>Map</code>. En el constructor se inicializa el <code>Map</code> vacío. Además la clase implementa la interfaz <code>Coleccion</code> que se ha definido en el fichero <code>coleccion.ts</code> y que contiene los métodos que se deben implementar en las colecciones. Al igual que las anteriores la clase se ha definido como iterable.</p>
<p>Además se han implementados los setters y getters para el atributo <code>retos</code> de la clase, en este caso hay un setter cuyo parametro es un <code>Map</code> y otro setter cuyo <code>setRetosFromArray</code> que recibe un array de retos y lo convierte en un <code>Map</code> para asignarlo al atributo <code>retos</code>. También se implementó un getter <code>getReto</code> que recibe un identificador de reto y devuelve el reto correspondiente.</p>
<p>La clase contiene tambien los siguientes métodos para gestionar y modificar los retos:</p>
<ul>
<li><code>listar</code>: Este método imprime por pantalla la lista de retos del sistema.</li>
<li><code>insertar</code>: Este método inserta un reto en el sistema. Se comprueba que el reto no exista previamente en el sistema y si no existe se inserta en el sistema.</li>
<li><code>eliminar</code>: Este método elimina un reto del sistema. Se comprueba que el reto exista previamente en el sistema y si existe se elimina del sistema.</li>
<li><code>modificarNombre</code>: Este método modifica el nombre de un reto del sistema. Se comprueba que no haya un reto con el mismo nombre en el sistema y si no hay un reto con el mismo nombre se modifica el nombre del reto.</li>
<li><code>addRuta</code> y <code>eraseRuta</code>: Estos métodos añaden y eliminan rutas de la lista de rutas de un reto pasado por parámetro.</li>
<li><code>addUsuario</code> y <code>eraseUsuario</code>: Estos métodos añaden y eliminan usuarios de la lista de usuarios de un reto pasado por parámetro, se comprueba en ambos casos si el usuario está ya en la lista de usuarios del reto o no.</li>
<li><code>modificarActividad</code>: Este método modifica el tipo de actividad de un reto del sistema, se le pasa un parámetro de tipo <code>Actividad</code> que es el tipo de actividad del reto.</li>
</ul>

<a href="#coleccion-grupo" id="coleccion-grupo" style="color: inherit; text-decoration: none;">
  <h4>Coleccion Grupo</h4>
</a>
<p>La clase <code>ColeccionGrupo</code> contiene los métodos necesarios para gestionar los grupos del sistema. El atributo y constructor de esta clase es básicamente igual que en las anteriores, pero en este caso el atributo es un <code>Map</code> que contiene los grupos del sistema, el identificador de cada grupo es la clave del <code>Map</code> y el grupo en si es el valor del <code>Map</code>. En el constructor se inicializa el <code>Map</code> vacío. Además la clase implementa la interfaz <code>Coleccion</code> que se ha definido en el fichero <code>coleccion.ts</code> y que contiene los métodos que se deben implementar en las colecciones. Al igual que las anteriores la clase se ha definido como iterable.</p>
<p>Igualmente, también se han implementados los setters y getters para el atributo <code>grupos</code> de la clase, en este caso hay un setter cuyo parametro es un <code>Map</code> y otro setter cuyo <code>setGruposFromArray</code> que recibe un array de grupos y lo convierte en un <code>Map</code> para asignarlo al atributo <code>grupos</code>.</p>
<p>La clase contiene tambien los siguientes métodos para gestionar y modificar los grupos:</p>
<ul>
<li><code>listar</code>: Este método imprime por pantalla la lista de grupos del sistema.</li>
<li><code>insertar</code>: Este método inserta un grupo en el sistema. Se comprueba que el grupo no exista previamente en el sistema y si no existe se inserta en el sistema.</li>
<li><code>eliminar</code>: Este método elimina un grupo del sistema. Se comprueba que el grupo exista previamente en el sistema y si existe se elimina del sistema.</li>
<li><code>modificarNombre</code>: Este método modifica el nombre de un grupo del sistema. Se comprueba que no haya un grupo con el mismo nombre en el sistema y si no hay un grupo con el mismo nombre se modifica el nombre del grupo.</li>
<li><code>modificarCreador</code>: Este método modifica el creador de un grupo del sistema. Se comprueba que el usuario exista en el sistema y si existe se modifica el creador del grupo.</li>
<li><code>addParticipante</code> y <code>eraseParticipante</code>: Estos métodos añaden y eliminan participantes de la lista de participantes de un grupo pasado por parámetro, se comprueba en ambos casos si el usuario está ya en la lista de participantes del grupo o no.</li>
<li><code>addRutaFavorite</code> y <code>eraseRutaFavorite</code>: Estos métodos añaden y eliminan rutas de la lista de rutas favoritas de un grupo pasado por parámetro.</li>
<li><code>addRutaRealizada</code>: Este método añade una ruta a la lista de rutas realizadas de un grupo pasado por parámetro.</li>
</ul>

<a href="#jsoncollection" id="jsoncollection" style="color: inherit; text-decoration: none;">
  <h3>jsonCollection</h3>
</a>
<p>A partir de la implementación de las colecciones heredan las clases denominadas <code>jsonCollection</code>, las cuales encontramos dentro de la carpeta <code>jsonModifiers</code> en <code>src</code>. Con estas cuatro clases (una por cada colección) podremos manejar los ficheros <code>.json</code> que se encuentran en la carptea <code>dataBase</code>, que es donde se almacenarán los datos de la aplicacción.</p>

<a href="#jsoncollectionusuario" id="jsoncollectionusuario" style="color: inherit; text-decoration: none;">
  <h3>jsonCollectionUsuario</h3>
</a>
<p>La primera de las cuatro clases es la relacionada con los usuarios. Lo primero que encontramos en el archivo es  la interfaz <code>DatabaseSchema</code>, que sirve para definir el tipo de dato que se va a guardar mediante el módulo <code>Lowdb</code>. Esta es muy simple como podemos observar a continuación:</p>
<pre><code class="language-typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">interface</span><span class="hl-1"> </span><span class="hl-3">DatabaseSchema</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">usuarios</span><span class="hl-1">: </span><span class="hl-3">Usuario</span><span class="hl-1">[];</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">JsonColeccionUsuario</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">ColeccionUsuario</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-4">usuariosDatabase</span><span class="hl-1">: </span><span class="hl-3">LowdbSync</span><span class="hl-1">&lt;</span><span class="hl-3">DatabaseSchema</span><span class="hl-1">&gt;;</span><br/><br/><span class="hl-1">  </span><span class="hl-2">constructor</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-2">super</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-6">adapter</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-5">FileSync</span><span class="hl-1">&lt;</span><span class="hl-3">DatabaseSchema</span><span class="hl-1">&gt;(</span><span class="hl-7">&quot;./dataBase/usuarios.json&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">usuariosDatabase</span><span class="hl-1"> = </span><span class="hl-5">lowdb</span><span class="hl-1">(</span><span class="hl-4">adapter</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">usuariosDatabase</span><span class="hl-1">.</span><span class="hl-5">defaults</span><span class="hl-1">({ </span><span class="hl-4">usuarios:</span><span class="hl-1"> [] }).</span><span class="hl-5">write</span><span class="hl-1">();</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-5">insertarUsuario</span><span class="hl-1">(</span><span class="hl-4">usuario</span><span class="hl-1">: </span><span class="hl-3">Usuario</span><span class="hl-1">): </span><span class="hl-3">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-8">// comprobar que el nombre de usuario no existe</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><br/><span class="hl-1">      </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">usuariosDatabase</span><br/><span class="hl-1">        .</span><span class="hl-5">get</span><span class="hl-1">(</span><span class="hl-7">&quot;usuarios&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">        .</span><span class="hl-5">find</span><span class="hl-1">({ </span><span class="hl-4">nombre:</span><span class="hl-1"> </span><span class="hl-4">usuario</span><span class="hl-1">.</span><span class="hl-5">getNombre</span><span class="hl-1">() })</span><br/><span class="hl-1">        .</span><span class="hl-5">value</span><span class="hl-1">() != </span><span class="hl-2">undefined</span><br/><span class="hl-1">    ) {</span><br/><span class="hl-1">      </span><span class="hl-0">throw</span><span class="hl-1"> </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-5">Error</span><span class="hl-1">(</span><span class="hl-7">&quot;El nombre de usuario ya existe&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">usuariosDatabase</span><span class="hl-1">.</span><span class="hl-5">get</span><span class="hl-1">(</span><span class="hl-7">&quot;usuarios&quot;</span><span class="hl-1">).</span><span class="hl-5">push</span><span class="hl-1">(</span><span class="hl-4">usuario</span><span class="hl-1">).</span><span class="hl-5">write</span><span class="hl-1">();</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-5">cargarUsuarios</span><span class="hl-1">(): </span><span class="hl-3">Usuario</span><span class="hl-1">[] {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-6">usuarios_no_instancia</span><span class="hl-1">: </span><span class="hl-3">Usuario</span><span class="hl-1">[] = </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">usuariosDatabase</span><br/><span class="hl-1">      .</span><span class="hl-5">get</span><span class="hl-1">(</span><span class="hl-7">&quot;usuarios&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">      .</span><span class="hl-5">value</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-6">usuarios</span><span class="hl-1">: </span><span class="hl-3">Usuario</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">    </span><span class="hl-0">for</span><span class="hl-1"> (</span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-6">usuario</span><span class="hl-1"> </span><span class="hl-2">of</span><span class="hl-1"> </span><span class="hl-4">usuarios_no_instancia</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-4">usuarioAux</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-5">Usuario</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-4">usuario</span><span class="hl-1">.</span><span class="hl-4">nombre</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">usuario</span><span class="hl-1">.</span><span class="hl-4">contraseña</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">usuario</span><span class="hl-1">.</span><span class="hl-4">actividades</span><br/><span class="hl-1">      );</span><br/><span class="hl-1">      </span><span class="hl-4">usuarioAux</span><span class="hl-1">.</span><span class="hl-5">setAmigosApp</span><span class="hl-1">(</span><span class="hl-4">usuario</span><span class="hl-1">.</span><span class="hl-4">amigosApp</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-4">usuarioAux</span><span class="hl-1">.</span><span class="hl-5">setAmigosFrecuentes</span><span class="hl-1">(</span><span class="hl-4">usuario</span><span class="hl-1">.</span><span class="hl-4">amigosFrecuentes</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-4">usuarioAux</span><span class="hl-1">.</span><span class="hl-5">setEstadisticas</span><span class="hl-1">(</span><span class="hl-4">usuario</span><span class="hl-1">.</span><span class="hl-4">estadisticas</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-4">usuarioAux</span><span class="hl-1">.</span><span class="hl-5">setRutasFavoritas</span><span class="hl-1">(</span><span class="hl-4">usuario</span><span class="hl-1">.</span><span class="hl-4">rutasFavoritas</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-4">usuarioAux</span><span class="hl-1">.</span><span class="hl-5">setRetosActivos</span><span class="hl-1">(</span><span class="hl-4">usuario</span><span class="hl-1">.</span><span class="hl-4">retosActivos</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-4">usuarioAux</span><span class="hl-1">.</span><span class="hl-5">setHistoricoRutas</span><span class="hl-1">(</span><span class="hl-4">usuario</span><span class="hl-1">.</span><span class="hl-4">historicoRutas</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-4">usuarioAux</span><span class="hl-1">.</span><span class="hl-5">setID</span><span class="hl-1">(</span><span class="hl-4">usuario</span><span class="hl-1">.</span><span class="hl-4">id</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-4">usuarios</span><span class="hl-1">.</span><span class="hl-5">push</span><span class="hl-1">(</span><span class="hl-4">usuarioAux</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-8">// Compruebamos si alguno de los usuarios es una instancia de usuario</span><br/><span class="hl-1">    </span><span class="hl-0">for</span><span class="hl-1"> (</span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-6">usuario</span><span class="hl-1"> </span><span class="hl-2">of</span><span class="hl-1"> </span><span class="hl-4">usuarios</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-0">if</span><span class="hl-1"> (!(</span><span class="hl-4">usuario</span><span class="hl-1"> </span><span class="hl-2">instanceof</span><span class="hl-1"> </span><span class="hl-3">Usuario</span><span class="hl-1">)) {</span><br/><span class="hl-1">        </span><span class="hl-0">throw</span><span class="hl-1"> </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-5">Error</span><span class="hl-1">(</span><span class="hl-7">&quot;Usuario NO es instancia de Usuario&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-4">usuarios</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-5">eliminarUsuario</span><span class="hl-1">(</span><span class="hl-4">usuario</span><span class="hl-1">: </span><span class="hl-3">Usuario</span><span class="hl-1">): </span><span class="hl-3">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">usuariosDatabase</span><br/><span class="hl-1">      .</span><span class="hl-5">get</span><span class="hl-1">(</span><span class="hl-7">&quot;usuarios&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">      .</span><span class="hl-5">remove</span><span class="hl-1">({ </span><span class="hl-4">nombre:</span><span class="hl-1"> </span><span class="hl-4">usuario</span><span class="hl-1">.</span><span class="hl-5">getNombre</span><span class="hl-1">() })</span><br/><span class="hl-1">      .</span><span class="hl-5">write</span><span class="hl-1">();</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  ...</span><br/><br/><span class="hl-1">}</span>
</code></pre>
<p>También podemos observar el inicio de la clase, la cual cuenta con el atributo <code>usuariosDatabase</code> que permite el almacenamiento de datos con el módulo anteriormente mencionado, así como un constructor que, además de llamar a <code>super()</code>, modifica parámetros del atributo anteriormente mencionado. Además observamos tres métodos importantes (existen más que los mencionaremos más tarde por encima), los cuales son:</p>
<ul>
<li><code>public insertarUsuario(usuario: Usuario): void</code> Este método se encarga de insertar un usuario en la base de datos, de manera que primero comprueba si existe un usuario con el mismo nombre (entra a los usuarios, busca el nombre y mira que su valor no sea undefined). En caso de que no haya, empujará al usuario dentro de la database y guardará los cambios.</li>
<li><code>public cargarUsuarios(): Usuario[]</code> Este método se encarga de insertar un usuario en la base de datos. En el, se sacan los datos de los usuarios del <code>.json</code> y dentro de un bucle <code>for</code> se irán creando los usuarios, añadiendo los datos y pusheandolos a la propiedad que los almacena. Finalmente se comprueba si existe alguna instancia que no sean los usuarios y se devuelven los usuarios.</li>
<li><code>public eliminarUsuario(usuario: Usuario): void</code> Este método se encarga de eliminar el usuario pasado por parámetros, de manera que entra a la database, obtiene los usuarios, elimina el que tenga el nombre como el pasado por parámetros y guarda los cambios.</li>
</ul>
<p>Además de estos métodos existen otros menos importantes que mencionaremos rápidamente y destacar que, aunque no se mencionen, cada propiedad cuenta con getter y setter. Los métodos son:</p>
<ul>
<li><code>public modificarNombre(usuario: Usuario, nombre: string): void</code> Esta se encarga de modificar el nombre de un usuario de la base de datos.</li>
<li><code>public modificarContraseña(usuario: Usuario, contraseña: string): void</code> Esta se encarga de modificar la contraseña de un usuario de la base de datos.</li>
<li><code> public modificarActividad(usuario: Usuario, actividad: Actividad): void</code> Esta se encarga de modificar el tipo de actividad de un usuario de la base de datos.</li>
<li><code>public addAmigo(usuario: Usuario): void</code> Esta se encarga de añadir un amigo a un usuario de la base de datos.</li>
<li><code>public eraseAmigo(usuario: Usuario, ID: number): void</code> Esta se encarga de eliminar un amigo de un usuario de la base de datos.</li>
<li><code>public addRutaFavorita(usuario: Usuario, ruta: number): void</code> Esta se encarga de añadir una ruta favorita a un usuario de la base de datos.</li>
<li><code>public eraseRutaFavorita(usuario: Usuario, ruta: number): void</code> Esta se encarga de eliminar una ruta favorita de un usuario de la base de datos.</li>
<li><code>addRutaRealizada( usuario: Usuario, ruta: { ruta: number; fecha: string } ): void</code> Esta se encarga de añadir una ruta que ha realizado el usuario a la base de datos.</li>
<li><code>public addRetosActivos(usuario: Usuario, reto: number): voi</code> Esta se encarga de añadir una reto a un usuario de la base de datos.</li>
<li><code>public eraseRetosActivos(usuario: Usuario, reto: number): void</code> Esta se encarga de eliminar una reto de un usuario de la base de datos.</li>
</ul>

<a href="#jsoncollectiongrupos" id="jsoncollectiongrupos" style="color: inherit; text-decoration: none;">
  <h3>jsonCollectionGrupos</h3>
</a>
<p>Esta colección se encarga con todo lo relacionado con la persistencia de datos de los usuarios. Esta clase hereda de la clase <code>jsonCollection</code> y se ha definido de la siguiente forma:</p>
<pre><code class="language-typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">JsonColeccionGrupo</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">ColeccionGrupo</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-4">gruposDatabase</span><span class="hl-1">: </span><span class="hl-3">LowdbSync</span><span class="hl-1">&lt;</span><span class="hl-3">DatabaseSchema</span><span class="hl-1">&gt;;</span><br/><br/><span class="hl-1">  </span><span class="hl-2">constructor</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-2">super</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-6">adapter</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-5">FileSync</span><span class="hl-1">&lt;</span><span class="hl-3">DatabaseSchema</span><span class="hl-1">&gt;(</span><span class="hl-7">&quot;./dataBase/grupos.json&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">gruposDatabase</span><span class="hl-1"> = </span><span class="hl-5">lowdb</span><span class="hl-1">(</span><span class="hl-4">adapter</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">gruposDatabase</span><span class="hl-1">.</span><span class="hl-5">defaults</span><span class="hl-1">({ </span><span class="hl-4">grupos:</span><span class="hl-1"> [] }).</span><span class="hl-5">write</span><span class="hl-1">();</span><br/><span class="hl-1">  }</span>
</code></pre>
<p>Con sus distintos métodos</p>
<ul>
<li><code>public insertarGrupo(grupo: Grupo): void</code> Esta se encarga de insertar un grupo en la base de datos.</li>
<li><code>public cargarGrupos(): Grupo[]</code> Esta se encarga de cargar los grupos de la base de datos. Se usa sobretodo a la hora de iniciar el programa  </li>
<li><code>public eliminarGrupo(grupo: Grupo): void</code> Esta se encarga de eliminar un grupo de la base de datos.</li>
<li><code>public modificarNombre(grupo: Grupo, nombre: string): void</code> Esta se encarga de modificar el nombre de un grupo de la base de datos.</li>
<li><code>public modificarCreador(grupo: Grupo, Creador: Usuario): void</code> Esta se encarga de modificar el creador de un grupo de la base de datos.</li>
<li><code>public addRutaRealizada( grupo: Grupo, ruta: { ruta number; fecha: string } ): void</code> Esta se encarga de añadir una ruta realizada a un grupo de la base de datos.</li>
<li><code>public addRutaFavorita(grupo: Grupo, ruta: number): void</code> Esta se encarga de añadir una ruta favorita a un grupo de la base de datos.</li>
<li><code>public eraseRutaFavorita(grupo: Grupo, ruta: number): void</code> Esta se encarga de eliminar una ruta favorita a un grupo de la base de datos.</li>
<li><code>public addParticipante(grupo: Grupo, participante: number): void</code> Esta se encarga de añadir un participante a un grupo de la base de datos.</li>
<li><code>public eraseParticipante(grupo: Grupo, participante: number): void</code> Esta se encarga de eliminar un participante a un grupo de la base de datos.</li>
</ul>

<a href="#jsoncollectionrutas" id="jsoncollectionrutas" style="color: inherit; text-decoration: none;">
  <h3>jsonCollectionRutas</h3>
</a>
<p>Esta colección se encarga con todo lo relacionado con la persistencia de datos de los usuarios. Esta clase hereda de la clase <code>jsonCollection</code> y se ha definido de la siguiente forma:</p>
<pre><code class="language-typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">JsonColeccionRuta</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">ColeccionRuta</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-4">rutasDatabase</span><span class="hl-1">: </span><span class="hl-3">LowdbSync</span><span class="hl-1">&lt;</span><span class="hl-3">DatabaseSchema</span><span class="hl-1">&gt;;</span><br/><br/><span class="hl-1">  </span><span class="hl-2">constructor</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-2">super</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-6">adapter</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-5">FileSync</span><span class="hl-1">&lt;</span><span class="hl-3">DatabaseSchema</span><span class="hl-1">&gt;(</span><span class="hl-7">&quot;./dataBase/rutas.json&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">rutasDatabase</span><span class="hl-1"> = </span><span class="hl-5">lowdb</span><span class="hl-1">(</span><span class="hl-4">adapter</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">rutasDatabase</span><span class="hl-1">.</span><span class="hl-5">defaults</span><span class="hl-1">({ </span><span class="hl-4">rutas:</span><span class="hl-1"> [] }).</span><span class="hl-5">write</span><span class="hl-1">();</span><br/><span class="hl-1">  }</span>
</code></pre>
<p>Con sus distintos métodos</p>
<ul>
<li><code>public insertarRuta(ruta: Ruta): void</code> Esta se encarga de insertar una ruta en la base de datos.</li>
<li><code>public cargarRutas(): Ruta[]</code> Esta se encarga de cargar las rutas de la base de datos. Se usa sobretodo a la hora de iniciar el programa</li>
<li><code>public eliminarRuta(ruta: Ruta): void</code> Esta se encarga de eliminar una ruta de la base de datos.</li>
<li><code>public modificarCoordenadasRuta(ruta: Ruta coordenadasInicio: Coordenadas,coordenadasFin: Coordenadas ): void </code> Esta se encarga de modificar el nombre de una ruta de la base de datos.</li>
<li><code>public modificarLongitudRuta(ruta: Ruta, nuevaLongitud: number): void </code> Esta se encarga de modificar la longitud de una ruta de la base de datos.</li>
<li><code>public modificarDesnivelRuta(ruta: Ruta, nuevoDesnivel: number): void </code> Esta se encarga de modificar el desnivel de una ruta de la base de datos.</li>
<li><code>public modificarTipoActividadRuta(ruta: Ruta nuevoTipoActividad: Actividad): void </code> Esta se encarga de modificar el tipo de actividad de una ruta de la base de datos.</li>
<li><code>public modificarDificultadRuta( ruta: Ruta, nuevaDificultad: Dificultad): void  </code> Esta se encarga de modificar la dificultad de una ruta de la base de datos.</li>
<li><code>public addUsuarioVisitante(ruta: Ruta, id: Number): void </code> Esta se encarga de añadir un usuario visitante a una ruta de la base de datos.</li>
</ul>

<a href="#jsoncollectionretos" id="jsoncollectionretos" style="color: inherit; text-decoration: none;">
  <h3>jsonCollectionRetos</h3>
</a>
<p>Esta colección se encarga con todo lo relacionado con la persistencia de datos de los usuarios. Esta clase hereda de la clase <code>jsonCollection</code> y se ha definido de la siguiente forma:</p>
<pre><code class="language-typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">JsonColeccionReto</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">ColeccionReto</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-4">retosDatabase</span><span class="hl-1">: </span><span class="hl-3">LowdbSync</span><span class="hl-1">&lt;</span><span class="hl-3">DatabaseSchema</span><span class="hl-1">&gt;;</span><br/><br/><span class="hl-1">  </span><span class="hl-2">constructor</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-2">super</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-6">adapter</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-5">FileSync</span><span class="hl-1">&lt;</span><span class="hl-3">DatabaseSchema</span><span class="hl-1">&gt;(</span><span class="hl-7">&quot;./dataBase/reto.json&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">retosDatabase</span><span class="hl-1"> = </span><span class="hl-5">lowdb</span><span class="hl-1">(</span><span class="hl-4">adapter</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">retosDatabase</span><span class="hl-1">.</span><span class="hl-5">defaults</span><span class="hl-1">({ </span><span class="hl-4">retos:</span><span class="hl-1"> [] }).</span><span class="hl-5">write</span><span class="hl-1">();</span><br/><span class="hl-1">  }</span>
</code></pre>
<p>Con sus métodos</p>
<ul>
<li><code>public registrarReto(reto: Reto): void </code> Esta se encarga de registrar un reto en la base de datos.</li>
<li><code>public cargarRetos(): Reto[]</code> Esta se encarga de cargar los retos de la base de datos. Se usa sobretodo a la hora de iniciar el programa</li>
<li><code>public eliminarReto(reto: Reto): void</code> Esta se encarga de eliminar un reto de la base de datos.</li>
<li><code>public modificarNombre(reto: Reto, nombre: string): void</code> Esta se encarga de modificar el nombre de un reto de la base de datos.</li>
<li><code>public addRuta(reto: Reto, ruta: number): void </code> Esta se encarga de añadir una ruta a un reto de la base de datos.</li>
<li><code>public eraseRuta(reto: Reto, ruta: number): void  </code> Esta se encarga de eliminar una ruta a un reto de la base de datos.</li>
<li><code>public modificarActividad(reto: Reto, actividad: string): void  </code> Esta se encarga de modificar la actividad de un reto de la base de datos.</li>
<li><code>public addUsuario(reto: Reto, id: number): void</code> Esta se encarga de añadir un usuario a un reto de la base de datos.</li>
<li><code>public eraseUsuario(reto: Reto, usuario: number): void </code> Esta se encarga de eliminar un usuario a un reto de la base de datos.</li>
</ul>

<a href="#app" id="app" style="color: inherit; text-decoration: none;">
  <h3>App</h3>
</a>
<p>Esta es la clase con la que se maneja todo el sistema de menús, así como la gestión de los datos. Esta clase hereda de la clase maneja las distintas <code>colecciones</code>, así como los distintos <code>modificadores</code>. Se ha definido de la siguiente forma:</p>
<pre><code class="language-typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">Gestor</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-4">coleccionUsuarios</span><span class="hl-1">: </span><span class="hl-3">ColeccionUsuario</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-4">coleccionRutas</span><span class="hl-1">: </span><span class="hl-3">ColeccionRuta</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-4">coleccionGrupos</span><span class="hl-1">: </span><span class="hl-3">ColeccionGrupo</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-4">coleccionRetos</span><span class="hl-1">: </span><span class="hl-3">ColeccionReto</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-4">jsonColeccionUsuario</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-5">JsonColeccionUsuario</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-4">jsonColeccionRuta</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-5">JsonColeccionRuta</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-4">jsonColeccionReto</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-5">JsonColeccionReto</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-4">jsonColeccionGrupo</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-5">JsonColeccionGrupo</span><span class="hl-1">();</span><br/><br/><span class="hl-1">  </span><span class="hl-8">/**</span><br/><span class="hl-8">   * Constructor de la clase gestor</span><br/><span class="hl-8">   */</span><br/><span class="hl-1">  </span><span class="hl-2">constructor</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">coleccionUsuarios</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-5">ColeccionUsuario</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">coleccionRutas</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-5">ColeccionRuta</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">coleccionGrupos</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-5">ColeccionGrupo</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">coleccionRetos</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-5">ColeccionReto</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">coleccionUsuarios</span><span class="hl-1">.</span><span class="hl-5">setUsuariosFromArray</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">jsonColeccionUsuario</span><span class="hl-1">.</span><span class="hl-5">cargarUsuarios</span><span class="hl-1">();</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">coleccionRetos</span><span class="hl-1">.</span><span class="hl-5">setRetosFromArray</span><span class="hl-1">(</span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">jsonColeccionReto</span><span class="hl-1">.</span><span class="hl-5">cargarRetos</span><span class="hl-1">());</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">coleccionRutas</span><span class="hl-1">.</span><span class="hl-5">setRutasFromArray</span><span class="hl-1">(</span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">jsonColeccionRuta</span><span class="hl-1">.</span><span class="hl-5">cargarRutas</span><span class="hl-1">());</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">coleccionGrupos</span><span class="hl-1">.</span><span class="hl-5">setGruposFromArray</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">jsonColeccionGrupo</span><span class="hl-1">.</span><span class="hl-5">cargarGrupos</span><span class="hl-1">()</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">  }</span>
</code></pre>
<p>Como podemos observar, dentro del constructor cada vez que se crea una instancia de un objeto de la clase <code>Gestor</code> se cargan los datos de las distintas colecciones de la base de datos. Además, se ha definido un método para cada una de las distintas colecciones, así como un método para cada uno de los distintos modificadores. Pudiendo así mantener una base de datos que se carga cuando se inicia el programa</p>
<p>Estos son los método más triviales: </p>
<ul>
<li><code>public getUsuarios(): Usuario[]</code> Este método se encarga de devolver la colección de usuarios.</li>
<li><code>public getRetos(): Reto[]</code> Este método se encarga de devolver la colección de retos.</li>
<li><code>public getRutas(): Ruta[]</code> Este método se encarga de devolver la colección de rutas.</li>
<li><code>public getGrupos(): Grupo[]</code> Este método se encarga de devolver la colección de grupos.</li>
<li><code>public setUsuarios(coleccion: ColeccionUsuario)</code> Este método se encarga de modificar la colección de usuarios.</li>
<li><code>public setRetos(coleccion: ColeccionReto)</code> Este método se encarga de modificar la colección de retos.</li>
<li><code>public setRutas(coleccion: ColeccionRuta)</code> Este método se encarga de modificar la colección de rutas.</li>
<li><code>public setGrupos(coleccion: ColeccionGrupo)</code> Este método se encarga de modificar la colección de grupos.</li>
</ul>

<a href="#menú-principal" id="menú-principal" style="color: inherit; text-decoration: none;">
  <h4>Menú principal</h4>
</a>
<p>Esta es la función encargada de mostrar el menú principal del programa. Se ha definido de la siguiente forma:</p>
<pre><code class="language-typescript"><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-5">consola</span><span class="hl-1">(): </span><span class="hl-2">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">clear</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-7">&quot;Bienvenido a la consola del usuario. ¿Qué desea hacer?&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">inquirer</span><br/><span class="hl-1">      .</span><span class="hl-5">prompt</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-7">&quot;list&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-7">&quot;opcion&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">message:</span><span class="hl-1"> </span><span class="hl-7">&quot;Elige una opción: &quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">choices:</span><span class="hl-1"> [</span><br/><span class="hl-1">          </span><span class="hl-7">&quot;Log in&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-7">&quot;Registrarse como usuario&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-7">&quot;Gestión de la información&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-7">&quot;Salir&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        ],</span><br/><span class="hl-1">      })</span><br/><span class="hl-1">      .</span><span class="hl-5">then</span><span class="hl-1">((</span><span class="hl-4">respuesta</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">switch</span><span class="hl-1"> (</span><span class="hl-4">respuesta</span><span class="hl-1">.</span><span class="hl-4">opcion</span><span class="hl-1">) {</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Registrarse como usuario&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">registrarUsuario</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Log in&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">logIn</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Gestión de la información&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">gestionInfo</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Salir&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-7">&quot;Hasta pronto&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">default</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">      });</span><br/><span class="hl-1">  }</span>
</code></pre>
<p>Llama a las distintas funciones para que podamos interactuar con el programa.</p>

<a href="#registro-de-usuario" id="registro-de-usuario" style="color: inherit; text-decoration: none;">
  <h4>Registro de usuario</h4>
</a>
<p>Este es el método encargado de registrar un usuario en el sistema. Se ha definido de la siguiente forma:</p>
<pre><code class="language-typescript"><span class="hl-4">private</span><span class="hl-1"> </span><span class="hl-5">registrarUsuario</span><span class="hl-1">(): </span><span class="hl-2">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">clear</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-7">&quot;Registrando usuario...&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">inquirer</span><br/><span class="hl-1">      .</span><span class="hl-5">prompt</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-7">&quot;input&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-7">&quot;nombre&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">message:</span><span class="hl-1"> </span><span class="hl-7">&quot;Introduce tu nombre de usuario: &quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      })</span><br/><span class="hl-1">      .</span><span class="hl-5">then</span><span class="hl-1">((</span><span class="hl-4">respuesta</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">inquirer</span><br/><span class="hl-1">          .</span><span class="hl-5">prompt</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-7">&quot;list&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-7">&quot;actividad&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">message:</span><span class="hl-1"> </span><span class="hl-7">&quot;Elige una actividad: &quot;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">choices:</span><span class="hl-1"> [</span><span class="hl-7">&quot;cilismo&quot;</span><span class="hl-1">, </span><span class="hl-7">&quot;running&quot;</span><span class="hl-1">],</span><br/><span class="hl-1">          })</span><br/><span class="hl-1">          .</span><span class="hl-5">then</span><span class="hl-1">((</span><span class="hl-4">respuesta2</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-4">inquirer</span><br/><span class="hl-1">              .</span><span class="hl-5">prompt</span><span class="hl-1">({</span><br/><span class="hl-1">                </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-7">&quot;input&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-7">&quot;contraseña&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-4">message:</span><span class="hl-1"> </span><span class="hl-7">&quot;Introduce tu contraseña: &quot;</span><span class="hl-1">,</span><br/><span class="hl-1">              })</span><br/><span class="hl-1">              .</span><span class="hl-5">then</span><span class="hl-1">((</span><span class="hl-4">respuesta3</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-0">try</span><span class="hl-1"> {</span><br/><span class="hl-1">                  </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-4">usuario</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-5">Usuario</span><span class="hl-1">(</span><br/><span class="hl-1">                    </span><span class="hl-4">respuesta</span><span class="hl-1">.</span><span class="hl-4">nombre</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-4">respuesta3</span><span class="hl-1">.</span><span class="hl-4">contraseña</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-4">respuesta2</span><span class="hl-1">.</span><span class="hl-4">actividad</span><br/><span class="hl-1">                  );</span><br/><span class="hl-1">                  </span><span class="hl-8">// Insertamos el usuario en la colección de usuarios</span><br/><span class="hl-1">                  </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">coleccionUsuarios</span><span class="hl-1">.</span><span class="hl-5">insertar</span><span class="hl-1">(</span><span class="hl-4">usuario</span><span class="hl-1">);</span><br/><span class="hl-1">                  </span><span class="hl-8">// Insertamos el usuario en el json</span><br/><span class="hl-1">                  </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">jsonColeccionUsuario</span><span class="hl-1">.</span><span class="hl-5">insertarUsuario</span><span class="hl-1">(</span><span class="hl-4">usuario</span><span class="hl-1">);</span><br/><br/><span class="hl-1">                  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-7">&quot;Usuario registrado con éxito:&quot;</span><span class="hl-1">, </span><span class="hl-4">usuario</span><span class="hl-1">);</span><br/><span class="hl-1">                  </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">volver</span><span class="hl-1">(() </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">consola</span><span class="hl-1">());</span><br/><span class="hl-1">                } </span><span class="hl-0">catch</span><span class="hl-1"> (</span><span class="hl-4">error</span><span class="hl-1">: </span><span class="hl-3">unknown</span><span class="hl-1">) {</span><br/><span class="hl-1">                  </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">error</span><span class="hl-1"> </span><span class="hl-2">instanceof</span><span class="hl-1"> </span><span class="hl-3">Error</span><span class="hl-1">) {</span><br/><span class="hl-1">                    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><br/><span class="hl-1">                      </span><span class="hl-7">&quot;</span><span class="hl-10">\x1b</span><span class="hl-7">[31m%s</span><span class="hl-10">\x1b</span><span class="hl-7">[0m&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                      </span><span class="hl-7">&quot;Error al crear el usuario: &quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                      </span><span class="hl-4">error</span><span class="hl-1">.</span><span class="hl-4">message</span><br/><span class="hl-1">                    );</span><br/><span class="hl-1">                  }</span><br/><span class="hl-1">                  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><br/><span class="hl-1">                    </span><span class="hl-7">&quot;Introduce un nombre de usuario válido no vacío y/o contraseña válida&quot;</span><br/><span class="hl-1">                  );</span><br/><span class="hl-1">                  </span><span class="hl-8">// pulsar enter para volver a introducir un nombre de usuario</span><br/><span class="hl-1">                  </span><span class="hl-4">inquirer</span><br/><span class="hl-1">                    .</span><span class="hl-5">prompt</span><span class="hl-1">({</span><br/><span class="hl-1">                      </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-7">&quot;input&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                      </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-7">&quot;volver&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                      </span><span class="hl-4">message:</span><br/><span class="hl-1">                        </span><span class="hl-7">&quot;Pulsa enter para volver a introducir un usuario&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                    })</span><br/><span class="hl-1">                    .</span><span class="hl-5">then</span><span class="hl-1">(() </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                      </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">registrarUsuario</span><span class="hl-1">();</span><br/><span class="hl-1">                    });</span><br/><span class="hl-1">                  </span><span class="hl-0">return</span><span class="hl-1">;</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">              });</span><br/><span class="hl-1">          });</span><br/><span class="hl-1">      });</span><br/><span class="hl-1">  }</span>
</code></pre>
<p>Como podemos ver se piden los datos del usuario y se crea un objeto de la clase <code>Usuario</code> con esos datos. Después se inserta el usuario en la colección de usuarios y en el json.</p>

<a href="#login-de-usuario" id="login-de-usuario" style="color: inherit; text-decoration: none;">
  <h4>Login de usuario</h4>
</a>
<p>Esto es un conjunto de métodos que hemos usado para gestionar el login de los usuarios para loguearse y una vez logueados poder acceder a las distintas opciones del programa. Se ha definido de la siguiente forma:</p>
<pre><code class="language-typescript"><span class="hl-4">private</span><span class="hl-1"> </span><span class="hl-5">logIn</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">clear</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-7">&quot;Iniciando sesión...&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">inquirer</span><br/><span class="hl-1">      .</span><span class="hl-5">prompt</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-7">&quot;input&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-7">&quot;usuario&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">message:</span><span class="hl-1"> </span><span class="hl-7">&quot;Introduce tu nombre de usuario: &quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      })</span><br/><span class="hl-1">      .</span><span class="hl-5">then</span><span class="hl-1">((</span><span class="hl-4">respuesta</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">inquirer</span><br/><span class="hl-1">          .</span><span class="hl-5">prompt</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-7">&quot;input&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-7">&quot;contraseña&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">message:</span><span class="hl-1"> </span><span class="hl-7">&quot;Introduce tu contraseña: &quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          })</span><br/><span class="hl-1">          .</span><span class="hl-5">then</span><span class="hl-1">((</span><span class="hl-4">respuesta2</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-8">// Buscamos en la colección de usuarios el usuario que se ha logueado</span><br/><span class="hl-1">            </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-6">usuario</span><span class="hl-1"> = </span><span class="hl-4">Array</span><span class="hl-1">.</span><span class="hl-5">from</span><span class="hl-1">(</span><br/><span class="hl-1">              </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">coleccionUsuarios</span><span class="hl-1">.</span><span class="hl-5">getUsuarios</span><span class="hl-1">().</span><span class="hl-5">values</span><span class="hl-1">()</span><br/><span class="hl-1">            ).</span><span class="hl-5">find</span><span class="hl-1">((</span><span class="hl-4">usuario</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-4">usuario</span><span class="hl-1">.</span><span class="hl-5">getNombre</span><span class="hl-1">() === </span><span class="hl-4">respuesta</span><span class="hl-1">.</span><span class="hl-4">usuario</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">usuario</span><span class="hl-1"> != </span><span class="hl-2">undefined</span><span class="hl-1">) {</span><br/><span class="hl-1">              </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">usuario</span><span class="hl-1">.</span><span class="hl-5">getContraseña</span><span class="hl-1">() === </span><span class="hl-4">respuesta2</span><span class="hl-1">.</span><span class="hl-4">contraseña</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-7">&quot;Sesión iniciada correctamente.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">                </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">menuUsuario</span><span class="hl-1">(</span><span class="hl-4">usuario</span><span class="hl-1">.</span><span class="hl-4">id</span><span class="hl-1">);</span><br/><span class="hl-1">              } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-7">&quot;Contraseña incorrecta.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">                </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">volver</span><span class="hl-1">(() </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">logIn</span><span class="hl-1">());</span><br/><span class="hl-1">              }</span><br/><span class="hl-1">            } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">              </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-7">`No se encontró el usuario </span><span class="hl-2">${</span><span class="hl-4">respuesta</span><span class="hl-11">.</span><span class="hl-4">usuario</span><span class="hl-2">}</span><span class="hl-7">`</span><span class="hl-1">);</span><br/><span class="hl-1">              </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">volver</span><span class="hl-1">(() </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">logIn</span><span class="hl-1">());</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">          });</span><br/><span class="hl-1">      });</span><br/><span class="hl-1">  }</span>
</code></pre>
<p>  Como podemos ver se piden los datos del usuario y se busca en la colección de usuarios el usuario que se ha logueado. Si el usuario existe y la contraseña es correcta se muestra el menú del usuario, si no se muestra un mensaje de error y se vuelve a mostrar el menú principal. Una vez logueado el usuario se le muestra el menú del usuario. Este menú se ha definido de la siguiente forma:</p>
<pre><code class="language-typescript"><span class="hl-4">private</span><span class="hl-1"> </span><span class="hl-5">menuUsuario</span><span class="hl-1">(</span><span class="hl-4">id</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">clear</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-8">// Cogemos el usuario de la colección de usuarios</span><br/><span class="hl-1">  </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-6">usuarioActual</span><span class="hl-1"> = </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">coleccionUsuarios</span><span class="hl-1">.</span><span class="hl-5">getUsuario</span><span class="hl-1">(</span><span class="hl-4">id</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-4">inquirer</span><br/><span class="hl-1">    .</span><span class="hl-5">prompt</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-7">&quot;list&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-7">&quot;menu&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">message:</span><span class="hl-1"> </span><span class="hl-7">&quot;Elige una opción: &quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">choices:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-7">&quot;Lista de usuarios&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-7">&quot;Amigos&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-7">&quot;Rutas&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-7">&quot;Grupos&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-7">&quot;Estadísticas&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-7">&quot;Retos&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-7">&quot;Histórico de rutas&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-7">&quot;Salir&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      ],</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">    .</span><span class="hl-5">then</span><span class="hl-1">((</span><span class="hl-4">respuesta</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-0">switch</span><span class="hl-1"> (</span><span class="hl-4">respuesta</span><span class="hl-1">.</span><span class="hl-4">menu</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Lista de usuarios&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">          </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">clear</span><span class="hl-1">();</span><br/><span class="hl-1">          </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">listarUsuarios</span><span class="hl-1">(() </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">volver</span><span class="hl-1">(() </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">menuUsuario</span><span class="hl-1">(</span><span class="hl-4">id</span><span class="hl-1">)));</span><br/><span class="hl-1">          </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Amigos&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">          </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">clear</span><span class="hl-1">();</span><br/><span class="hl-1">          </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">gestionAmigos</span><span class="hl-1">(</span><span class="hl-4">usuarioActual</span><span class="hl-1">);</span><br/><span class="hl-1">          </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Rutas&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">          </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">clear</span><span class="hl-1">();</span><br/><span class="hl-1">          </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">gestionRutasUsuario</span><span class="hl-1">(</span><span class="hl-4">id</span><span class="hl-1">);</span><br/><span class="hl-1">          </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Grupos&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">          </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">clear</span><span class="hl-1">();</span><br/><span class="hl-1">          </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">gestionGruposUsuario</span><span class="hl-1">(</span><span class="hl-4">id</span><span class="hl-1">);</span><br/><span class="hl-1">          </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Estadísticas&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">          </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">clear</span><span class="hl-1">();</span><br/><span class="hl-1">          </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">listarEstadisticas</span><span class="hl-1">(</span><span class="hl-4">id</span><span class="hl-1">);</span><br/><span class="hl-1">          </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">volver</span><span class="hl-1">(() </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">menuUsuario</span><span class="hl-1">(</span><span class="hl-4">id</span><span class="hl-1">));</span><br/><span class="hl-1">          </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Retos&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">          </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">clear</span><span class="hl-1">();</span><br/><span class="hl-1">          </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">gestionRetosUsuario</span><span class="hl-1">(</span><span class="hl-4">id</span><span class="hl-1">);</span><br/><span class="hl-1">          </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Histórico de rutas&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">          </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">clear</span><span class="hl-1">();</span><br/><span class="hl-1">          </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">listarHistoricoRutas</span><span class="hl-1">(</span><span class="hl-4">id</span><span class="hl-1">);</span><br/><span class="hl-1">          </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">volver</span><span class="hl-1">(() </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">menuUsuario</span><span class="hl-1">(</span><span class="hl-4">id</span><span class="hl-1">));</span><br/><span class="hl-1">          </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Salir&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">          </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">clear</span><span class="hl-1">();</span><br/><span class="hl-1">          </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-7">&quot;Saliendo...&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">          </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">consola</span><span class="hl-1">();</span><br/><span class="hl-1">          </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">default</span><span class="hl-1">:</span><br/><span class="hl-1">          </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Este método se encarga de lidiar con el menú del usuario logueado, pudiendo hacer uso de los siguientes métodos de gestión:</p>
<ul>
<li><code>gestionAmigos</code>: Gestiona los amigos del usuario logueado.</li>
<li><code>gestionRutasUsuario</code>: Gestiona las rutas del usuario logueado.</li>
<li><code>gestionGruposUsuario</code>: Gestiona los grupos del usuario logueado.</li>
<li><code>gestionRetosUsuario</code>: Gestiona los retos del usuario logueado.</li>
<li><code>listarEstadisticas</code>: Lista las estadísticas del usuario logueado.</li>
<li><code>listarHistoricoRutas</code>: Lista el histórico de rutas del usuario logueado.
Se ha de recalcar que los métodos de listar estadísticas y listar histórico de rutas se han definido de tal forma que permiten listar por orden ascendente y descendente, así como por fecha y distancia.</li>
</ul>

<a href="#gestión-de-información" id="gestión-de-información" style="color: inherit; text-decoration: none;">
  <h4>Gestión de información</h4>
</a>
<p>Este es un método que se encarga de gestionar la información de los usuarios, rutas, grupos y retos. Se ha definido de la siguiente forma:</p>
<pre><code class="language-typescript"><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-5">gestionInfo</span><span class="hl-1">(): </span><span class="hl-2">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">clear</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-7">&quot;Bienvenido a la consola de gestión de la base de datos. ¿Qué datos desea gestionar?&quot;</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">    </span><span class="hl-4">inquirer</span><br/><span class="hl-1">      .</span><span class="hl-5">prompt</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-7">&quot;list&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-7">&quot;opcion&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">message:</span><span class="hl-1"> </span><span class="hl-7">&quot;Elige una opción: &quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">choices:</span><span class="hl-1"> [</span><br/><span class="hl-1">          </span><span class="hl-7">&quot;Usuario&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-7">&quot;Rutas&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-7">&quot;Grupos&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-7">&quot;Retos&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-7">&quot;Volver al menú anterior&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        ],</span><br/><span class="hl-1">      })</span><br/><span class="hl-1">      .</span><span class="hl-5">then</span><span class="hl-1">((</span><span class="hl-4">respuesta</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">switch</span><span class="hl-1"> (</span><span class="hl-4">respuesta</span><span class="hl-1">.</span><span class="hl-4">opcion</span><span class="hl-1">) {</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Usuario&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">gestionUsuarios</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Rutas&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">gestionRutas</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Grupos&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">gestionGrupos</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Retos&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">gestionRetos</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Volver al menú anterior&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">consola</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">default</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">      });</span><br/><span class="hl-1">  }</span>
</code></pre>

<a href="#gestión-de-usuarios" id="gestión-de-usuarios" style="color: inherit; text-decoration: none;">
  <h4>Gestión de usuarios</h4>
</a>
<p>Es un conjunto de métodos gestionados por el método <code>gestionUsuarios</code> que se encarga de gestionar los usuarios de la base de datos. Se ha definido de la siguiente forma:</p>
<pre><code class="language-typescript"><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">clear</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-7">&quot;Bienvenido a gestión de usuarios. ¿Qué desea hacer?&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">inquirer</span><br/><span class="hl-1">      .</span><span class="hl-5">prompt</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-7">&quot;list&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-7">&quot;opcion&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">message:</span><span class="hl-1"> </span><span class="hl-7">&quot;Elige una opción: &quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">choices:</span><span class="hl-1"> [</span><br/><span class="hl-1">          </span><span class="hl-7">&quot;Registrar usuario&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-7">&quot;Lista de usuarios&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-7">&quot;Modificar usuarios&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-7">&quot;Eliminar usuario&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-7">&quot;Volver al menú anterior&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        ],</span><br/><span class="hl-1">      })</span><br/><span class="hl-1">      .</span><span class="hl-5">then</span><span class="hl-1">((</span><span class="hl-4">respuesta</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">switch</span><span class="hl-1"> (</span><span class="hl-4">respuesta</span><span class="hl-1">.</span><span class="hl-4">opcion</span><span class="hl-1">) {</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Registrar usuario&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">registrarUsuario</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Lista de usuarios&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">listarUsuarios</span><span class="hl-1">(() </span><span class="hl-2">=&gt;</span><br/><span class="hl-1">              </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">volver</span><span class="hl-1">(() </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">gestionUsuarios</span><span class="hl-1">())</span><br/><span class="hl-1">            );</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Modificar usuarios&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">modificarUsuario</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Eliminar usuario&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">eliminarUsuario</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Volver al menú anterior&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">gestionInfo</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">default</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">      });</span><br/><span class="hl-1">  }</span>
</code></pre>
<p>Y hace uso de los siguientes métodos</p>
<ul>
<li><code>listarUsuarios</code>: Lista los usuarios de la base de datos.</li>
<li><code>registrarUsuario</code>: Crea un usuario en la base de datos.</li>
<li><code>modificarUsuario</code>: Modifica un usuario de la base de datos.</li>
<li><code>eliminarUsuario</code>: Modifica un usuario de la base de datos.</li>
</ul>

<a href="#gestión-de-grupos" id="gestión-de-grupos" style="color: inherit; text-decoration: none;">
  <h4>Gestión de grupos</h4>
</a>
<p>Es un conjunto de métodos gestionados por el método <code>gestionGrupos</code> que se encarga de gestionar los grupos de la base de datos. Se ha definido de la siguiente forma:</p>
<pre><code class="language-typescript"><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-5">gestionGrupos</span><span class="hl-1">(): </span><span class="hl-2">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">clear</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-7">&quot;Bienvenido a gestión de grupos. ¿Qué desea hacer?&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">inquirer</span><br/><span class="hl-1">      .</span><span class="hl-5">prompt</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-7">&quot;list&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-7">&quot;opcion&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">message:</span><span class="hl-1"> </span><span class="hl-7">&quot;Elige una opción: &quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">choices:</span><span class="hl-1"> [</span><br/><span class="hl-1">          </span><span class="hl-7">&quot;Registrar grupo&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-7">&quot;Listar grupos&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-7">&quot;Modificar grupos&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-7">&quot;Eliminar grupo&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-7">&quot;Volver al menú anterior&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        ],</span><br/><span class="hl-1">      })</span><br/><span class="hl-1">      .</span><span class="hl-5">then</span><span class="hl-1">((</span><span class="hl-4">respuesta</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">switch</span><span class="hl-1"> (</span><span class="hl-4">respuesta</span><span class="hl-1">.</span><span class="hl-4">opcion</span><span class="hl-1">) {</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Registrar grupo&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">registrarGrupo</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Listar grupos&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">listarGrupos</span><span class="hl-1">(() </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">volver</span><span class="hl-1">(() </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">gestionGrupos</span><span class="hl-1">()));</span><br/><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Modificar grupos&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">modificarGrupo</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Eliminar grupo&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">eliminarGrupo</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Volver al menú anterior&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">gestionInfo</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">default</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">      });</span><br/><span class="hl-1">  }</span>
</code></pre>
<p>Y hace uso de los siguientes métodos</p>
<ul>
<li><code>listarGrupos</code>: Lista los grupos de la base de datos.</li>
<li><code>registrarGrupo</code>: Crea un grupo en la base de datos.</li>
<li><code>modificarGrupo</code>: Modifica un grupo de la base de datos.</li>
<li><code>eliminarGrupo</code>: Modifica un grupo de la base de datos.</li>
</ul>

<a href="#gestión-de-rutas" id="gestión-de-rutas" style="color: inherit; text-decoration: none;">
  <h4>Gestión de rutas</h4>
</a>
<p>Es un conjunto de métodos gestionados por el método <code>gestionRutas</code> que se encarga de gestionar las rutas de la base de datos. Se ha definido de la siguiente forma:</p>
<pre><code class="language-typescript"><span class="hl-4">private</span><span class="hl-1"> </span><span class="hl-5">gestionRutas</span><span class="hl-1">(): </span><span class="hl-2">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">clear</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-7">&quot;Bienvenido a gestión de rutas. ¿Qué desea hacer?&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">inquirer</span><br/><span class="hl-1">      .</span><span class="hl-5">prompt</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-7">&quot;list&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-7">&quot;opcion&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">message:</span><span class="hl-1"> </span><span class="hl-7">&quot;Elige una opción: &quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">choices:</span><span class="hl-1"> [</span><br/><span class="hl-1">          </span><span class="hl-7">&quot;Registrar ruta&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-7">&quot;Listar rutas&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-7">&quot;Modificar rutas&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-7">&quot;Eliminar ruta&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-7">&quot;Volver al menú anterior&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        ],</span><br/><span class="hl-1">      })</span><br/><span class="hl-1">      .</span><span class="hl-5">then</span><span class="hl-1">((</span><span class="hl-4">respuesta</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">switch</span><span class="hl-1"> (</span><span class="hl-4">respuesta</span><span class="hl-1">.</span><span class="hl-4">opcion</span><span class="hl-1">) {</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Registrar ruta&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">registrarRuta</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Listar rutas&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">listarRutas</span><span class="hl-1">(() </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">volver</span><span class="hl-1">(() </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">gestionRutas</span><span class="hl-1">()));</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Modificar rutas&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">modificarRuta</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Eliminar ruta&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">eliminarRuta</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Volver al menú anterior&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">gestionInfo</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">default</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">      });</span><br/><span class="hl-1">  }</span>
</code></pre>
<p>Y hace uso de los siguientes métodos</p>
<ul>
<li><code>listarRutas</code>: Lista las rutas de la base de datos.</li>
<li><code>registrarRuta</code>: Crea una ruta en la base de datos.</li>
<li><code>modificarRuta</code>: Modifica una ruta de la base de datos.</li>
<li><code>eliminarRuta</code>: Modifica una ruta de la base de datos.</li>
</ul>

<a href="#gestión-de-retos" id="gestión-de-retos" style="color: inherit; text-decoration: none;">
  <h4>Gestión de retos</h4>
</a>
<p>Es un conjunto de métodos gestionados por el método <code>gestionRetos</code> que se encarga de gestionar los retos de la base de datos. Se ha definido de la siguiente forma:</p>
<pre><code class="language-typescript"><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-5">gestionRetos</span><span class="hl-1">(): </span><span class="hl-2">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">clear</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-7">&quot;Bienvenido a gestión de Retos. ¿Qué desea hacer?&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">inquirer</span><br/><span class="hl-1">      .</span><span class="hl-5">prompt</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-7">&quot;list&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-7">&quot;opcion&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">message:</span><span class="hl-1"> </span><span class="hl-7">&quot;Elige una opción: &quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">choices:</span><span class="hl-1"> [</span><br/><span class="hl-1">          </span><span class="hl-7">&quot;Registrar Reto&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-7">&quot;Listar Retos&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-7">&quot;Modificar Retos&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-7">&quot;Eliminar Reto&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-7">&quot;Volver al menú anterior&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        ],</span><br/><span class="hl-1">      })</span><br/><span class="hl-1">      .</span><span class="hl-5">then</span><span class="hl-1">((</span><span class="hl-4">respuesta</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">switch</span><span class="hl-1"> (</span><span class="hl-4">respuesta</span><span class="hl-1">.</span><span class="hl-4">opcion</span><span class="hl-1">) {</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Registrar Reto&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">registrarReto</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Listar Retos&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">listarRetos</span><span class="hl-1">(() </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">volver</span><span class="hl-1">(() </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">gestionRetos</span><span class="hl-1">()));</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Modificar Retos&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">modificarReto</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Eliminar Reto&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">eliminarReto</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-7">&quot;Volver al menú anterior&quot;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-5">gestionInfo</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-0">default</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">      });</span><br/><span class="hl-1">  }</span>
</code></pre>
<p>Y hace uso de los siguientes métodos</p>
<ul>
<li><code>listarRetos</code>: Lista los retos de la base de datos.</li>
<li><code>registrarReto</code>: Crea un reto en la base de datos.</li>
<li><code>modificarReto</code>: Modifica un reto de la base de datos.</li>
<li><code>eliminarReto</code>: Modifica un reto de la base de datos.</li>
</ul>

<a href="#conclusiones" id="conclusiones" style="color: inherit; text-decoration: none;">
  <h2>Conclusiones</h2>
</a>
<p>En este proyecto se ha podido ver como se puede crear un sistema de gestión de rutas de ciclismo y running, además de poder crear grupos y retos para realizar rutas. Se ha podido ver como se puede crear un sistema de gestión de usuarios, rutas, grupos y retos, además de poder crear un sistema de login y registro de usuarios. Al haber hecho esta práctica en grupo hemos aprendido a usar GitHub para trabajar en equipo, además de aprender a usar las herramientas de desarrollo que se han usado en este proyecto (GitHub Actions, SonarCloud, Coveralls, etc.)</p>

<a href="#errores" id="errores" style="color: inherit; text-decoration: none;">
  <h2>Errores</h2>
</a>
<p>Nos hemos encontrado en la tesitura de al usar sonar cloud, la plataforma da error al analizar nuestro código, por lo que no podemos ver el análisis de nuestro código. Las acciones de github se encuentran implementadas, así como el secreto. Por otro lado, al usar coveralls, la plataforma no nos muestra el porcentaje de cobertura de nuestro código, por lo que tampoco podemos ver el porcentaje de cobertura de nuestro código.</p>
<p>Dejo abajo una captura de la consola de sonar cloud, donde se puede ver que da error al analizar nuestro código.
<img src="./error.jpeg" alt="Captura de la consola de sonar cloud"></p>

<a href="#referencias" id="referencias" style="color: inherit; text-decoration: none;">
  <h2>Referencias</h2>
</a>
<p>  <a href="https://coveralls.io/">https://coveralls.io/</a>
  <a href="https://sonarcloud.io/">https://sonarcloud.io/</a>
  <a href="https://github.com/">https://github.com/</a>
  <a href="https://ull-esit-inf-dsi-2223.github.io/prct07-destravate-dataModel/">https://ull-esit-inf-dsi-2223.github.io/prct07-destravate-dataModel/</a>
  <a href="https://stackoverflow.com/">https://stackoverflow.com/</a></p>
</div></div>
<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<nav class="tsd-navigation primary">
<details class="tsd-index-accordion" open><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Modules</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li class="current selected"><a href="modules.html">ull-<wbr/>esit-<wbr/>inf-<wbr/>dsi-<wbr/>22-<wbr/>23-<wbr/>prct07-<wbr/>destravate-<wbr/>datamodel-<wbr/>grupok</a>
<ul>
<li class="tsd-kind-module"><a href="modules/app.html">app</a></li>
<li class="tsd-kind-module"><a href="modules/colecciones_coleccionGrupo.html">colecciones/coleccion<wbr/>Grupo</a></li>
<li class="tsd-kind-module"><a href="modules/colecciones_coleccionReto.html">colecciones/coleccion<wbr/>Reto</a></li>
<li class="tsd-kind-module"><a href="modules/colecciones_coleccionRuta.html">colecciones/coleccion<wbr/>Ruta</a></li>
<li class="tsd-kind-module"><a href="modules/colecciones_coleccionUsuario.html">colecciones/coleccion<wbr/>Usuario</a></li>
<li class="tsd-kind-module"><a href="modules/enums_actividadEnum.html">enums/actividad<wbr/>Enum</a></li>
<li class="tsd-kind-module"><a href="modules/enums_dificultadEnum.html">enums/dificultad<wbr/>Enum</a></li>
<li class="tsd-kind-module"><a href="modules/interfaces_coleccion.html">interfaces/coleccion</a></li>
<li class="tsd-kind-module"><a href="modules/interfaces_coordenadasInterface.html">interfaces/coordenadas<wbr/>Interface</a></li>
<li class="tsd-kind-module"><a href="modules/interfaces_entidadInterface.html">interfaces/entidad<wbr/>Interface</a></li>
<li class="tsd-kind-module"><a href="modules/interfaces_estadisticasEntrenamiento.html">interfaces/estadisticas<wbr/>Entrenamiento</a></li>
<li class="tsd-kind-module"><a href="modules/jsonModifiers_jsonColeccionGrupo.html">json<wbr/>Modifiers/json<wbr/>Coleccion<wbr/>Grupo</a></li>
<li class="tsd-kind-module"><a href="modules/jsonModifiers_jsonColeccionReto.html">json<wbr/>Modifiers/json<wbr/>Coleccion<wbr/>Reto</a></li>
<li class="tsd-kind-module"><a href="modules/jsonModifiers_jsonColeccionRuta.html">json<wbr/>Modifiers/json<wbr/>Coleccion<wbr/>Ruta</a></li>
<li class="tsd-kind-module"><a href="modules/jsonModifiers_jsonColeccionUsuario.html">json<wbr/>Modifiers/json<wbr/>Coleccion<wbr/>Usuario</a></li>
<li class="tsd-kind-module"><a href="modules/modelos_grupo.html">modelos/grupo</a></li>
<li class="tsd-kind-module"><a href="modules/modelos_reto.html">modelos/reto</a></li>
<li class="tsd-kind-module"><a href="modules/modelos_ruta.html">modelos/ruta</a></li>
<li class="tsd-kind-module"><a href="modules/modelos_usuario.html">modelos/usuario</a></li></ul></li></ul></div></details></nav></div></div>
<div class="container tsd-generator">
<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div>
<div class="overlay"></div><script src="assets/main.js"></script></body></html>